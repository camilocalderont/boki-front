<form-container-theme>
  <h2-theme class="mb-6">
    {{ isEditMode ? 'Actualizar Categoria' : 'Crear Categoria' }}
  </h2-theme>

  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="space-y-6">

    <!-- Primera fila: Nombre y Empresas -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <form-input-theme 
        formControlName="VcName" 
        placeholder="Nombre"
        [showError]="!!(form.get('VcName')?.invalid && form.get('VcName')?.touched)"
        errorMessage="El nombre es obligatorio">
      </form-input-theme>

      <form-select-theme 
        formControlName="CompanyId"
        placeholder="Seleccione una empresa"
        [showError]="!!(form.get('CompanyId')?.invalid && form.get('CompanyId')?.touched)"
        errorMessage="Debe seleccionar una empresa">
        <option *ngFor="let company of companies" [value]="company.Id">
          {{ company.VcName }}
        </option>
      </form-select-theme>
    </div>

    <!-- Toggle: BIsService -->
    <form-toggle-theme 
      formControlName="BIsService" 
      label="Es Servicio">
    </form-toggle-theme>

    <!-- Botones -->
    <div class="flex justify-end space-x-4 pt-2">
      <button-theme 
        type="button" 
        variant="secondary"
        (click)="redirectLink('/dashboard/categories')">
        Cancelar
      </button-theme>
      
      <button-theme 
        type="submit" 
        [disabled]="form.invalid"
        variant="primary">
        {{ isEditMode ? 'Actualizar' : 'Crear' }}
      </button-theme>
    </div>
  </form>
</form-container-theme>