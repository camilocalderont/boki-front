<app-auth-layout title="Crear cuenta" subtitle="Únete a boki-ai hoy mismo" containerClass="max-w-2xl">
  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="space-y-6 max-w-4xl mx-auto">

    <!-- Primera fila - Primer y segundo nombre -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <app-ui-input id="firstName" type="text" placeholder="Primer nombre" formControlName="firstName">
        </app-ui-input>
        <div *ngIf="submitted && registerForm.controls['firstName'].errors" class="text-red-400 text-xs mt-1 pl-1">
          <span *ngIf="registerForm.controls['firstName'].errors['required']">El primer nombre es obligatorio</span>
          <span *ngIf="registerForm.controls['firstName'].errors['minlength']">Mínimo 2 caracteres</span>
        </div>
      </div>

      <div>
        <app-ui-input id="secondName" type="text" placeholder="Segundo nombre (opcional)" formControlName="secondName">
        </app-ui-input>
      </div>
    </div>

    <!-- Segunda fila - Primer y segundo apellido -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <app-ui-input id="firstLastName" type="text" placeholder="Primer apellido" formControlName="firstLastName">
        </app-ui-input>
        <div *ngIf="submitted && registerForm.controls['firstLastName'].errors" class="text-red-400 text-xs mt-1 pl-1">
          <span *ngIf="registerForm.controls['firstLastName'].errors['required']">El primer apellido es
            obligatorio</span>
        </div>
      </div>

      <div>
        <app-ui-input id="secondLastName" type="text" placeholder="Segundo apellido (opcional)"
          formControlName="secondLastName">
        </app-ui-input>
      </div>
    </div>

    <!-- Tercera fila - Nickname y documento -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <app-ui-input id="nickName" type="text" placeholder="Nombre de usuario" formControlName="nickName">
        </app-ui-input>
        <div *ngIf="submitted && registerForm.controls['nickName'].errors" class="text-red-400 text-xs mt-1 pl-1">
          <span *ngIf="registerForm.controls['nickName'].errors['required']">El nombre de usuario es obligatorio</span>
          <span *ngIf="registerForm.controls['nickName'].errors['minlength']">Mínimo 3 caracteres</span>
        </div>
      </div>

      <div>
        <app-ui-input id="identificationNumber" type="text" placeholder="Número de documento"
          formControlName="identificationNumber">
        </app-ui-input>
        <div *ngIf="submitted && registerForm.controls['identificationNumber'].errors"
          class="text-red-400 text-xs mt-1 pl-1">
          <span *ngIf="registerForm.controls['identificationNumber'].errors['required']">El documento es
            obligatorio</span>
          <span *ngIf="registerForm.controls['identificationNumber'].errors['pattern']">Solo números permitidos</span>
        </div>
      </div>
    </div>

    <!-- Cuarta fila - Teléfono y Email -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <app-ui-input id="phone" type="tel" placeholder="Número de teléfono" formControlName="phone">
        </app-ui-input>
        <div *ngIf="submitted && registerForm.controls['phone'].errors" class="text-red-400 text-xs mt-1 pl-1">
          <span *ngIf="registerForm.controls['phone'].errors['required']">El teléfono es obligatorio</span>
          <span *ngIf="registerForm.controls['phone'].errors['pattern']">Formato inválido (ej: 3001234567)</span>
        </div>
      </div>

      <div>
        <app-ui-input id="email" type="email" placeholder="Correo electrónico" formControlName="email">
        </app-ui-input>
        <div *ngIf="submitted && registerForm.controls['email'].errors" class="text-red-400 text-xs mt-1 pl-1">
          <span *ngIf="registerForm.controls['email'].errors['required']">El correo es obligatorio</span>
          <span *ngIf="registerForm.controls['email'].errors['email']">Ingrese un correo válido</span>
        </div>
      </div>
    </div>

    <!-- Quinta fila - Contraseñas -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <app-ui-input id="password" type="password" placeholder="Contraseña" formControlName="password">
        </app-ui-input>
        <div *ngIf="submitted && registerForm.controls['password'].errors" class="text-red-400 text-xs mt-1 pl-1">
          <span *ngIf="registerForm.controls['password'].errors['required']">La contraseña es obligatoria</span>
          <span *ngIf="registerForm.controls['password'].errors['minlength']">Mínimo 8 caracteres</span>
          <span *ngIf="registerForm.controls['password'].errors['passwordStrength']">
            Debe contener: mayúscula, minúscula, número y carácter especial
          </span>
        </div>
      </div>

      <div>
        <app-ui-input id="confirmPassword" type="password" placeholder="Confirmar contraseña"
          formControlName="confirmPassword">
        </app-ui-input>
        <div *ngIf="submitted && registerForm.controls['confirmPassword'].errors"
          class="text-red-400 text-xs mt-1 pl-1">
          <span *ngIf="registerForm.controls['confirmPassword'].errors['required']">Confirma tu contraseña</span>
          <span *ngIf="registerForm.controls['confirmPassword'].errors['passwordMismatch']">Las contraseñas no
            coinciden</span>
        </div>
      </div>
    </div>


    <!-- Botón de envío -->

    <div class="pt-4">
      <app-ui-button type="submit" variant="primary" size="large" [fullWidth]="true" [loading]="loading"
        [disabled]="registerForm.invalid && submitted">
        {{ loading ? "Creando cuenta..." : "Crear cuenta" }}
      </app-ui-button>
    </div>
  </form>

  <div class="mt-6 text-center text-sm text-gray-400">
    ¿Ya tienes cuenta?
    <a routerLink="/auth/login" class="text-blue-400 hover:underline font-medium">
      Inicia sesión
    </a>
  </div>
</app-auth-layout>